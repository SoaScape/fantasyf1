<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="header :: head" />
<body ng-app="ff1App" ng-controller="controller">		
	<div th:replace="header :: header"/>	
	
	<div class="panel panel-primary" ng-init="getStandinDrivers();getCars();">
	<div class="panel-heading text-center">Components</div>	
	<div class="panel-body">
		<div class="panel panel-info">
		<div class="panel-heading text-center">Drivers</div>	
		<div class="panel-body">
		<table class="table table-striped">
			<tbody>
				<tr>
					<th>Name</th>
					<th>Number</th>
					<th>Car</th>
					<th>Rounds</th>
					<th>Action</th>
				</tr>
				<tr ng-repeat="driver in drivers">
					<td><input type="text" class="form-control" ng-model="driver.name"/></td>
					<td><input type="number" class="form-control" ng-model="driver.number"/></td>
					<td>
						<div class="dropdown">
						  <button class="btn btn-default dropdown-toggle" type="button" id="carDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
						    {{driver.car.name}}
						    <span class="caret"></span>
						  </button>
						  <ul class="dropdown-menu" aria-labelledby="carDropdown">
						  <table class="table table-striped table-responsive">
						    <thead>
						      <tr>
						        <th>Car</th>
						      </tr>
						    </thead>
						    <tbody>
						      <tr ng-repeat="car in cars | orderBy:'name'">
						        <td>					        	
						        	<a href="#" class="a-unstyled" ng-click="driver.car = car;">{{car.name}}</a>
						        	<span ng-if="driver.car.name==car.name">&nbsp;<span class="glyphicon glyphicon-hand-left"></span></span>					        	
						        </td>
						      </tr>
						    </tbody>
						    </table>
						  </ul>
						</div>
					</td>
					<td >
							<div class="dropdown">
							  <button class="btn btn-default dropdown-toggle" type="button" id="standinRoundsDriversDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
							    {{driver.standinRoundsDrivers}}
							    <span class="caret"></span>
							  </button>
							  <ul class="dropdown-menu" aria-labelledby="carDropdown">
							  <table class="table table-striped table-responsive">
							    <thead>
							      <tr>
							        <th>Car</th>
							        <th>Engine</th>
							        <th>Price</th>
							      </tr>
							    </thead>
							    <tbody>
							      <tr ng-repeat="car in cars | orderBy:'-price'">
							        <td>
							        	<b>
								        	<a href="#" class="a-unstyled" ng-click="team.car = car;">{{car.name}}</a>
								        	<span ng-if="team.car.name==car.name">&nbsp;<span class="glyphicon glyphicon-hand-left"></span></span>
								        </b>					        	
							        </td>
							        <td>{{car.engine.name}}</td>
							        <td>&#163;{{car.price}}m</td>
							      </tr>
							    </tbody>
							    </table>
							  </ul>
							</div>
						</td>
					<td><button type="button" class="btn btn-danger" ng-click="deleteDriver($index);">Delete</button></td>
				</tr>				
			</tbody>			
		</table>
		<button type="button" class="btn btn-danger" ng-click="addStandinDriver();">Add</button>
		<button type="button" class="btn btn-success" ng-click="saveDrivers();">Save</button>
		<div id="driversSpinner" style="display: none;" class="spinner-loader pull-right">Updating...</div>
	    {{driversStatus}}
		</div>
		</div>
		
	</div>
	</div>
  <div th:replace="footer :: footer" />
</body>
</html>
